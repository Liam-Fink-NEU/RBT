{"ast":null,"code":"\"use strict\";\n\nconst {\n  mixin\n} = require(\"../../utils\");\n\nconst ElementImpl = require(\"./Element-impl\").implementation;\n\nconst MouseEvent = require(\"../generated/MouseEvent\");\n\nconst ElementCSSInlineStyleImpl = require(\"./ElementCSSInlineStyle-impl\").implementation;\n\nconst GlobalEventHandlersImpl = require(\"./GlobalEventHandlers-impl\").implementation;\n\nconst HTMLAndSVGElementSharedImpl = require(\"./HTMLAndSVGElementShared-impl\").implementation;\n\nconst {\n  firstChildWithLocalName\n} = require(\"../helpers/traversal\");\n\nconst {\n  isDisabled\n} = require(\"../helpers/form-controls\");\n\nconst {\n  fireAnEvent\n} = require(\"../helpers/events\");\n\nclass HTMLElementImpl extends ElementImpl {\n  constructor(args, privateData) {\n    super(args, privateData);\n\n    this._initHTMLAndSVGElement();\n\n    this._initElementCSSInlineStyle();\n\n    this._initGlobalEvents();\n\n    this._settingCssText = false;\n    this._clickInProgress = false; // <summary> uses HTMLElement and has activation behavior\n\n    this._hasActivationBehavior = this._localName === \"summary\";\n  }\n\n  _activationBehavior() {\n    const parent = this.parentNode;\n\n    if (parent && parent._localName === \"details\" && this === firstChildWithLocalName(parent, \"summary\")) {\n      if (parent.hasAttributeNS(null, \"open\")) {\n        parent.removeAttributeNS(null, \"open\");\n      } else {\n        parent.setAttributeNS(null, \"open\", \"\");\n      }\n    }\n  }\n\n  click() {\n    // https://html.spec.whatwg.org/multipage/interaction.html#dom-click\n    // https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-synthetic-mouse-event\n    if (isDisabled(this)) {\n      return;\n    }\n\n    if (this._clickInProgress) {\n      return;\n    }\n\n    this._clickInProgress = true; // https://github.com/whatwg/html/issues/4451\n    // https://github.com/whatwg/html/issues/4452\n\n    fireAnEvent(\"click\", this, MouseEvent, {\n      bubbles: true,\n      cancelable: true,\n      composed: true,\n      isTrusted: false,\n      view: this.ownerDocument.defaultView\n    });\n    this._clickInProgress = false;\n  }\n\n  get draggable() {\n    const attributeValue = this.getAttributeNS(null, \"draggable\");\n\n    if (attributeValue === \"true\") {\n      return true;\n    } else if (attributeValue === \"false\") {\n      return false;\n    }\n\n    return this._localName === \"img\" || this._localName === \"a\" && this.hasAttributeNS(null, \"href\");\n  }\n\n  set draggable(value) {\n    this.setAttributeNS(null, \"draggable\", String(value));\n  }\n\n  get dir() {\n    let dirValue = this.getAttributeNS(null, \"dir\");\n\n    if (dirValue !== null) {\n      dirValue = dirValue.toLowerCase();\n\n      if ([\"ltr\", \"rtl\", \"auto\"].includes(dirValue)) {\n        return dirValue;\n      }\n    }\n\n    return \"\";\n  }\n\n  set dir(value) {\n    this.setAttributeNS(null, \"dir\", value);\n  }\n\n  _attrModified(name, value, oldValue) {\n    if (name === \"style\" && value !== oldValue && !this._settingCssText) {\n      this._settingCssText = true;\n      this._style.cssText = value;\n      this._settingCssText = false;\n    } else if (name.startsWith(\"on\")) {\n      this._globalEventChanged(name.substring(2));\n    }\n\n    super._attrModified.apply(this, arguments);\n  }\n\n  get offsetParent() {\n    return null;\n  }\n\n  get offsetTop() {\n    return 0;\n  }\n\n  get offsetLeft() {\n    return 0;\n  }\n\n  get offsetWidth() {\n    return 0;\n  }\n\n  get offsetHeight() {\n    return 0;\n  }\n\n}\n\nmixin(HTMLElementImpl.prototype, ElementCSSInlineStyleImpl.prototype);\nmixin(HTMLElementImpl.prototype, GlobalEventHandlersImpl.prototype);\nmixin(HTMLElementImpl.prototype, HTMLAndSVGElementSharedImpl.prototype);\nmodule.exports = {\n  implementation: HTMLElementImpl\n};","map":{"version":3,"sources":["/Users/liamfink/class-app/node_modules/jsdom/lib/jsdom/living/nodes/HTMLElement-impl.js"],"names":["mixin","require","ElementImpl","implementation","MouseEvent","ElementCSSInlineStyleImpl","GlobalEventHandlersImpl","HTMLAndSVGElementSharedImpl","firstChildWithLocalName","isDisabled","fireAnEvent","HTMLElementImpl","constructor","args","privateData","_initHTMLAndSVGElement","_initElementCSSInlineStyle","_initGlobalEvents","_settingCssText","_clickInProgress","_hasActivationBehavior","_localName","_activationBehavior","parent","parentNode","hasAttributeNS","removeAttributeNS","setAttributeNS","click","bubbles","cancelable","composed","isTrusted","view","ownerDocument","defaultView","draggable","attributeValue","getAttributeNS","value","String","dir","dirValue","toLowerCase","includes","_attrModified","name","oldValue","_style","cssText","startsWith","_globalEventChanged","substring","apply","arguments","offsetParent","offsetTop","offsetLeft","offsetWidth","offsetHeight","prototype","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\nconst { mixin } = require(\"../../utils\");\nconst ElementImpl = require(\"./Element-impl\").implementation;\nconst MouseEvent = require(\"../generated/MouseEvent\");\nconst ElementCSSInlineStyleImpl = require(\"./ElementCSSInlineStyle-impl\").implementation;\nconst GlobalEventHandlersImpl = require(\"./GlobalEventHandlers-impl\").implementation;\nconst HTMLAndSVGElementSharedImpl = require(\"./HTMLAndSVGElementShared-impl\").implementation;\nconst { firstChildWithLocalName } = require(\"../helpers/traversal\");\nconst { isDisabled } = require(\"../helpers/form-controls\");\nconst { fireAnEvent } = require(\"../helpers/events\");\n\nclass HTMLElementImpl extends ElementImpl {\n  constructor(args, privateData) {\n    super(args, privateData);\n    this._initHTMLAndSVGElement();\n    this._initElementCSSInlineStyle();\n    this._initGlobalEvents();\n\n    this._settingCssText = false;\n    this._clickInProgress = false;\n\n    // <summary> uses HTMLElement and has activation behavior\n    this._hasActivationBehavior = this._localName === \"summary\";\n  }\n\n  _activationBehavior() {\n    const parent = this.parentNode;\n    if (parent && parent._localName === \"details\" &&\n        this === firstChildWithLocalName(parent, \"summary\")) {\n      if (parent.hasAttributeNS(null, \"open\")) {\n        parent.removeAttributeNS(null, \"open\");\n      } else {\n        parent.setAttributeNS(null, \"open\", \"\");\n      }\n    }\n  }\n\n  click() {\n    // https://html.spec.whatwg.org/multipage/interaction.html#dom-click\n    // https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-synthetic-mouse-event\n\n    if (isDisabled(this)) {\n      return;\n    }\n\n    if (this._clickInProgress) {\n      return;\n    }\n\n    this._clickInProgress = true;\n\n    // https://github.com/whatwg/html/issues/4451\n    // https://github.com/whatwg/html/issues/4452\n    fireAnEvent(\"click\", this, MouseEvent, {\n      bubbles: true,\n      cancelable: true,\n      composed: true,\n      isTrusted: false,\n      view: this.ownerDocument.defaultView\n    });\n\n    this._clickInProgress = false;\n  }\n\n  get draggable() {\n    const attributeValue = this.getAttributeNS(null, \"draggable\");\n\n    if (attributeValue === \"true\") {\n      return true;\n    } else if (attributeValue === \"false\") {\n      return false;\n    }\n\n    return this._localName === \"img\" || (this._localName === \"a\" && this.hasAttributeNS(null, \"href\"));\n  }\n  set draggable(value) {\n    this.setAttributeNS(null, \"draggable\", String(value));\n  }\n\n  get dir() {\n    let dirValue = this.getAttributeNS(null, \"dir\");\n    if (dirValue !== null) {\n      dirValue = dirValue.toLowerCase();\n\n      if ([\"ltr\", \"rtl\", \"auto\"].includes(dirValue)) {\n        return dirValue;\n      }\n    }\n    return \"\";\n  }\n  set dir(value) {\n    this.setAttributeNS(null, \"dir\", value);\n  }\n\n  _attrModified(name, value, oldValue) {\n    if (name === \"style\" && value !== oldValue && !this._settingCssText) {\n      this._settingCssText = true;\n      this._style.cssText = value;\n      this._settingCssText = false;\n    } else if (name.startsWith(\"on\")) {\n      this._globalEventChanged(name.substring(2));\n    }\n\n    super._attrModified.apply(this, arguments);\n  }\n\n  get offsetParent() {\n    return null;\n  }\n\n  get offsetTop() {\n    return 0;\n  }\n\n  get offsetLeft() {\n    return 0;\n  }\n\n  get offsetWidth() {\n    return 0;\n  }\n\n  get offsetHeight() {\n    return 0;\n  }\n}\n\nmixin(HTMLElementImpl.prototype, ElementCSSInlineStyleImpl.prototype);\nmixin(HTMLElementImpl.prototype, GlobalEventHandlersImpl.prototype);\nmixin(HTMLElementImpl.prototype, HTMLAndSVGElementSharedImpl.prototype);\n\nmodule.exports = {\n  implementation: HTMLElementImpl\n};\n"]},"metadata":{},"sourceType":"script"}