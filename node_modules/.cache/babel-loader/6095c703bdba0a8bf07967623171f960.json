{"ast":null,"code":"\"use strict\";\n\nconst HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\n\nconst Document = require(\"../generated/Document\");\n\nconst DocumentFragment = require(\"../generated/DocumentFragment\");\n\nconst {\n  cloningSteps,\n  domSymbolTree\n} = require(\"../helpers/internal-constants\");\n\nconst {\n  clone\n} = require(\"../node\");\n\nclass HTMLTemplateElementImpl extends HTMLElementImpl {\n  constructor(args, privateData) {\n    super(args, privateData);\n\n    const doc = this._appropriateTemplateContentsOwnerDocument(this._ownerDocument);\n\n    this._templateContents = DocumentFragment.createImpl([], {\n      ownerDocument: doc,\n      host: this\n    });\n  } // https://html.spec.whatwg.org/multipage/scripting.html#appropriate-template-contents-owner-document\n\n\n  _appropriateTemplateContentsOwnerDocument(doc) {\n    if (!doc._isInertTemplateDocument) {\n      if (doc._associatedInertTemplateDocument === undefined) {\n        const newDoc = Document.createImpl([], {\n          options: {\n            parsingMode: doc._parsingMode,\n            encoding: doc._encoding\n          }\n        });\n        newDoc._isInertTemplateDocument = true;\n        doc._associatedInertTemplateDocument = newDoc;\n      }\n\n      doc = doc._associatedInertTemplateDocument;\n    }\n\n    return doc;\n  } // https://html.spec.whatwg.org/multipage/scripting.html#template-adopting-steps\n\n\n  _adoptingSteps() {\n    const doc = this._appropriateTemplateContentsOwnerDocument(this._ownerDocument);\n\n    doc._adoptNode(this._templateContents);\n  }\n\n  get content() {\n    return this._templateContents;\n  }\n\n  [cloningSteps](copy, node, document, cloneChildren) {\n    if (!cloneChildren) {\n      return;\n    }\n\n    for (const child of domSymbolTree.childrenIterator(node._templateContents)) {\n      const childCopy = clone(child, copy._templateContents._ownerDocument, true);\n\n      copy._templateContents.appendChild(childCopy);\n    }\n  }\n\n}\n\nmodule.exports = {\n  implementation: HTMLTemplateElementImpl\n};","map":{"version":3,"sources":["/Users/liamfink/class-app/node_modules/jsdom/lib/jsdom/living/nodes/HTMLTemplateElement-impl.js"],"names":["HTMLElementImpl","require","implementation","Document","DocumentFragment","cloningSteps","domSymbolTree","clone","HTMLTemplateElementImpl","constructor","args","privateData","doc","_appropriateTemplateContentsOwnerDocument","_ownerDocument","_templateContents","createImpl","ownerDocument","host","_isInertTemplateDocument","_associatedInertTemplateDocument","undefined","newDoc","options","parsingMode","_parsingMode","encoding","_encoding","_adoptingSteps","_adoptNode","content","copy","node","document","cloneChildren","child","childrenIterator","childCopy","appendChild","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,eAAe,GAAGC,OAAO,CAAC,oBAAD,CAAP,CAA8BC,cAAtD;;AAEA,MAAMC,QAAQ,GAAGF,OAAO,CAAC,uBAAD,CAAxB;;AACA,MAAMG,gBAAgB,GAAGH,OAAO,CAAC,+BAAD,CAAhC;;AAEA,MAAM;AAAEI,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,IAAkCL,OAAO,CAAC,+BAAD,CAA/C;;AACA,MAAM;AAAEM,EAAAA;AAAF,IAAYN,OAAO,CAAC,SAAD,CAAzB;;AAEA,MAAMO,uBAAN,SAAsCR,eAAtC,CAAsD;AACpDS,EAAAA,WAAW,CAACC,IAAD,EAAOC,WAAP,EAAoB;AAC7B,UAAMD,IAAN,EAAYC,WAAZ;;AAEA,UAAMC,GAAG,GAAG,KAAKC,yCAAL,CAA+C,KAAKC,cAApD,CAAZ;;AACA,SAAKC,iBAAL,GAAyBX,gBAAgB,CAACY,UAAjB,CAA4B,EAA5B,EAAgC;AACvDC,MAAAA,aAAa,EAAEL,GADwC;AAEvDM,MAAAA,IAAI,EAAE;AAFiD,KAAhC,CAAzB;AAID,GATmD,CAWpD;;;AACAL,EAAAA,yCAAyC,CAACD,GAAD,EAAM;AAC7C,QAAI,CAACA,GAAG,CAACO,wBAAT,EAAmC;AACjC,UAAIP,GAAG,CAACQ,gCAAJ,KAAyCC,SAA7C,EAAwD;AACtD,cAAMC,MAAM,GAAGnB,QAAQ,CAACa,UAAT,CAAoB,EAApB,EAAwB;AACrCO,UAAAA,OAAO,EAAE;AACPC,YAAAA,WAAW,EAAEZ,GAAG,CAACa,YADV;AAEPC,YAAAA,QAAQ,EAAEd,GAAG,CAACe;AAFP;AAD4B,SAAxB,CAAf;AAMAL,QAAAA,MAAM,CAACH,wBAAP,GAAkC,IAAlC;AAEAP,QAAAA,GAAG,CAACQ,gCAAJ,GAAuCE,MAAvC;AACD;;AAEDV,MAAAA,GAAG,GAAGA,GAAG,CAACQ,gCAAV;AACD;;AAED,WAAOR,GAAP;AACD,GA9BmD,CAgCpD;;;AACAgB,EAAAA,cAAc,GAAG;AACf,UAAMhB,GAAG,GAAG,KAAKC,yCAAL,CAA+C,KAAKC,cAApD,CAAZ;;AACAF,IAAAA,GAAG,CAACiB,UAAJ,CAAe,KAAKd,iBAApB;AACD;;AAED,MAAIe,OAAJ,GAAc;AACZ,WAAO,KAAKf,iBAAZ;AACD;;AAED,GAACV,YAAD,EAAe0B,IAAf,EAAqBC,IAArB,EAA2BC,QAA3B,EAAqCC,aAArC,EAAoD;AAClD,QAAI,CAACA,aAAL,EAAoB;AAClB;AACD;;AAED,SAAK,MAAMC,KAAX,IAAoB7B,aAAa,CAAC8B,gBAAd,CAA+BJ,IAAI,CAACjB,iBAApC,CAApB,EAA4E;AAC1E,YAAMsB,SAAS,GAAG9B,KAAK,CAAC4B,KAAD,EAAQJ,IAAI,CAAChB,iBAAL,CAAuBD,cAA/B,EAA+C,IAA/C,CAAvB;;AACAiB,MAAAA,IAAI,CAAChB,iBAAL,CAAuBuB,WAAvB,CAAmCD,SAAnC;AACD;AACF;;AAnDmD;;AAsDtDE,MAAM,CAACC,OAAP,GAAiB;AACftC,EAAAA,cAAc,EAAEM;AADD,CAAjB","sourcesContent":["\"use strict\";\n\nconst HTMLElementImpl = require(\"./HTMLElement-impl\").implementation;\n\nconst Document = require(\"../generated/Document\");\nconst DocumentFragment = require(\"../generated/DocumentFragment\");\n\nconst { cloningSteps, domSymbolTree } = require(\"../helpers/internal-constants\");\nconst { clone } = require(\"../node\");\n\nclass HTMLTemplateElementImpl extends HTMLElementImpl {\n  constructor(args, privateData) {\n    super(args, privateData);\n\n    const doc = this._appropriateTemplateContentsOwnerDocument(this._ownerDocument);\n    this._templateContents = DocumentFragment.createImpl([], {\n      ownerDocument: doc,\n      host: this\n    });\n  }\n\n  // https://html.spec.whatwg.org/multipage/scripting.html#appropriate-template-contents-owner-document\n  _appropriateTemplateContentsOwnerDocument(doc) {\n    if (!doc._isInertTemplateDocument) {\n      if (doc._associatedInertTemplateDocument === undefined) {\n        const newDoc = Document.createImpl([], {\n          options: {\n            parsingMode: doc._parsingMode,\n            encoding: doc._encoding\n          }\n        });\n        newDoc._isInertTemplateDocument = true;\n\n        doc._associatedInertTemplateDocument = newDoc;\n      }\n\n      doc = doc._associatedInertTemplateDocument;\n    }\n\n    return doc;\n  }\n\n  // https://html.spec.whatwg.org/multipage/scripting.html#template-adopting-steps\n  _adoptingSteps() {\n    const doc = this._appropriateTemplateContentsOwnerDocument(this._ownerDocument);\n    doc._adoptNode(this._templateContents);\n  }\n\n  get content() {\n    return this._templateContents;\n  }\n\n  [cloningSteps](copy, node, document, cloneChildren) {\n    if (!cloneChildren) {\n      return;\n    }\n\n    for (const child of domSymbolTree.childrenIterator(node._templateContents)) {\n      const childCopy = clone(child, copy._templateContents._ownerDocument, true);\n      copy._templateContents.appendChild(childCopy);\n    }\n  }\n}\n\nmodule.exports = {\n  implementation: HTMLTemplateElementImpl\n};\n"]},"metadata":{},"sourceType":"script"}